language: cpp
sudo: required
services: docker
compiler:
- g++
- clang
before_install: "./scripts/ci/before_install.sh"
script: docker run -v $TRAVIS_BUILD_DIR:/entwine -t connormanning/pdal:entwine-pin
  /bin/sh -c "/entwine/scripts/ci/build.sh"
after_success:
- echo "secure travis:" "$TRAVIS_SECURE_ENV_VARS"
- sh -c 'if test "$TRAVIS_SECURE_ENV_VARS" = "true" -a "$TRAVIS_BRANCH" = "travis-configuration"
  -a "$CXX" = "g++"; then echo "publish website"; ./scripts/ci/build_docs.sh; ./scripts/ci/deploy_website.sh
  $TRAVIS_BUILD_DIR/doc/build; fi'
notifications:
  on_success: always
  on_failure: always
  slack:
    secure: qAzPWkpLugFrGFDLQzoYnrziR8RS+24ILcwuXJha2blTqBi5/TdbfafnUMlaBwvaIxDiz0je4LOjTT7tJ7HYfJRW6YnXDPJ4uy1vHwxtVCEmIU+JoWvkTwWffAH0j49davyHlNwUh0ogM3iL5GU15oQCHMpZnElaEw1QntF/liYyIswYdlg1kTjhqwaPt9Q1nw46Yfb+i9iCFrARQ+gdOOSLZ6ZjJYYP9dNH+Z0qWQBDT33Trmh8W8V7flzCKLHdWH2dBJ3RxG1QMe3Gljxkc0OOub+o5ziZyGCGf8ILk9cIGjysgXd8j6WpU5mJzj4DKc2hgRUiHHepOFwlwOIO+NBBWa4tqSm+7WFGya5jDvIZj4fJNwUPuU3i7T9lUlYIMVMmGAiDB8VfM3iRuQwY2rcToNXvYFrVRveMImSkOOtCyN6BHMm925jyqk99/pcjasjADSWuSNLaD7sXuZB+qgay7ddJ3jjG231INvu6M/qO7SWOKSG20Gh2F+mbWqzAkC5nAo5eHYapk5uFpmD51kUcXN59mWaaBmuoOckxPwEEgmjANpoO9SjWPsPTfindMySUrqD8M7+M9bUB0o31PIvP8p4D3lTI262PBrJQX3wwgQacaP/lB35DAo/58jnKGJXV3yydarysFWO35urAdT5tFL9JftIF1diEj7aqSPI=
env:
  global:
  - secure: RJHoD2HIE3Hs+nMoFePULlneJtpU7MYxObiumIU75w6+/HhJHGJgvpSDWlZUfgvAVWI3wFTikla8uMcuLwAGYNSpJZhOVHTX9LqKAiZAfJ1GKovItN4s4cUBjm4tw5Q8ex/swOJmlncxEn3eYs69ssqfdaf8vI21Bi2KA9eN9APPeIzHpHZu79bB3VnU1xvP/bX3Nc98QhhUKAF4YtpJXZcoRsXtias/velpCIvRSYiMkzYXsxcM5rBw098KnEB9vtTE3kqnlXBrhe8nFwpktoXUIXvqNLs4sbq83AaGnMR40FJHimIyAKhgR1FA4RVhzPBaOXothfUor7Do/vGIDNECaIMVv/V0smRa4XiT0OP9Don9qacsxxJOJOfHH93JGBxtZFy0XWNksQTQmJE6RCC8SqacPYm7tqhdey6VgU1qopm3/9y72vkT2ZANRw+5fyS8v8rH8qgY/hcBS+ZoWmflYd/9q+tDX/SdAdRVVK3/CMpAMoOoWsN5JniJ9xW/R4gKpK35ZWVQ5mduk/7WUbnLhAKTmWem/PGLd2xwg5gMrTVry+oeQVOG04iztyFb3xRvXLqLq1J0CfnJ/jK9rFfM3DERpSChgyEnRsKiftaD3crhhvcF8UVOXjFoFi/eLqu1FBY1ZfOhLnTLH5wJn4les/TxHmwZjKcJTqwZmNw=
  - secure: jlDXgltegN6Q4I2iSeRYoLHjYwtzcKDqDP+EfMPETy5FCdBeLnOfJu4S242orC+yh5ad+5yvSdBUqYKljPTOFnbdumymAJDKVWMJAte0CNZxVd1cnI9DaC4Q1Vx8pB7WFPIKDvkWyh9qIM2Qbb9YAdfiydPKwExbmWix1bCs/S26T0ug4wqIP0Ou2wWSTRIBJ3fcuLypHi0s+ybKPAPZB1x82BTaXwUb6Cx0HL8dKUZLc1yPrud3FyY6TwxVlyQAOY9ZqmTE99gf/t3sXcf0uTNnesId/H7LT4iJIqyZpO5m5HYZNjxGzpsvhElI5w0hvHYl4vgwi3frC8Hf8Nu5YHyQKq84fG+f5kyu4iM4PtaYOF7Or67FALXtRwkgdFXY0Jrpu4IYUnu9xSOcaduAI9AvrvTobDtdxLJI6sPechU0YQkbFDzXxTFMYOrCg3Ckqr4XmwReFneIxhp5M0OLAOaf3OgbAQ+aBGyuxOgT331gGu68FgVezjxqBGCrHI77OB9K6Q2H2HhynO6pckDiYl2jZEZAbt0MXeHyFazjXUisJ/i84L2YBBci8DAnzdlcXRi1igb28l0eTeZN0a2LBWyv5D7jY4d0u4u97NCi6yfZZ50FdO8c51U18W9Z8hbs8kZJSAKmidMXtzQQqBoxzpZy7Erg/vwrV/CB1HRzs3A=
